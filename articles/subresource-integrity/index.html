<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Subresource Integrity - truveris.github.com</title>
        <meta name="description" content="Security on the web">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Favicon -->
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

        <!-- Stylesheets -->
        <link href='//fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Lora:400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/lib/css/style.css">

        <!-- RSS -->
        <link rel="alternate" type="application/atom+xml" href="/atom.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">

        <!-- JS -->
        <script type="text/javascript" src="https://ws.sharethis.com/button/buttons.js"></script>
        <script type="text/javascript">stLight.options({publisher: "ur-bd6ecc7d-a28e-7a33-9fa5-a9f85b7af5fe", doNotHash: false, doNotCopy: true, hashAddressBar: false});</script>

        <!-- Social -->
        <link href="https://plus.google.com/+Truverisprescriptions" rel="publisher">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@truveris">
        <meta name="twitter:title" content="Subresource Integrity - truveris.github.com">
        <meta name="twitter:description" content="Security on the web">
        <meta name="twitter:creator" content="@truveris">
        <meta name="twitter:domain" content="truveris.github.io">
        <meta name="twitter:image:src" content="/lib/img/locust.svg">

        <meta property="og:title" content="Subresource Integrity - truveris.github.com">
        <meta property="og:description" content="Security on the web">
        <meta property="og:url" content="https://truveris.github.io/">
        <meta property="og:site_name" content="truveris.github.io">
        <meta property="og:type" content="blog">
        <meta property="og:image" content="/lib/img/locust.svg">

        <!-- Force https -->
        <script type="text/javascript">
            var host = "truveris.github.io";
            if ((host == window.location.host) && (window.location.protocol != "https:"))
                window.location.protocol = "https";
        </script>
    </head>

    <body itemscope itemtype="http://schema.org/WebPage">
                <header class="header clearfix headroom headroom--top" id="header" role="banner">

            <a href="/">
                <span class="logo-dark-gray">truveris</span><span class="logo-light-gray">.github.io</span>
            </a>

            <a href="/jobs/" class="cta" role="link">
                We are hiring <span class="icon-right-open-mini"></span>
            </a>

        </header>

        





<article itemtype="http://schema.org/BlogPosting" itemscope class="main hentry entry" role="main">

    <!-- Article header -->
    <header>
        <figure>
            <img src="/lib/img/locust.svg" alt="Subresource Integrity" class="roundimg">
        </figure>

        <h1 itemprop="name headline" role="heading">Subresource Integrity</h1>
    </header>

    <!-- Article content -->
    <div itemprop="description articleBody" class="entry-content">
        

<p>
    Subresource Integrity (SRI for short) is a technique that
    allows you to ensure that your assets are being served
    unaltered. For example:
</p>

<pre><code class="language-html">&lt;script src="https://code.jquery.com/jquery-3.1.0.slim.min.js"&gt;&lt;/script&gt;</code></pre>

<p>
    This is something you have probably seen fairly commonly.
    CDN, or content delivery network, served assets improve
    page load times by distributing the content from locations
    physically closer to the end user. They also allow you to
    offload the bandwidth and resposibility for actually
    serving your assets.
</p>

<p>
    But what happens when that third party is compromised? If
    all your site does is host cat gifs, it's probably not the
    end of the world. When you're dealing with sensitive
    information or accepting payments, however, a compromise
    could allow an attacker to steal valuable user information.
</p>

<p>
    SRI allows us to add a cryptographically secure hash to our
    tags so that we can indicate what the actual signature of
    our sources should be. That way, if an attacker compromises
    a third party displaying assets on your page, they will not
    be able to serve you malicious code (or other assets, as
    we'll see below):
</p>

<pre><code class="language-html">&lt;script src="https://code.jquery.com/jquery-3.1.0.slim.min.js"
    integrity="sha384-uZ2OkdfFeYRaX81T8ZKlaMt5UJ7DkMwO8z95CYTpAtu9t6W7FaHvsa3xvalfNrnn"&gt;&lt;/script&gt;</code></pre>

<h3>How Do I Generate That?</h3>

<p>
    There are a few ways to generate the hash itself. The
    "hash" is actually the base64-encoded representation of the
    binary digest of the resource. You could put together a
    simple shell pipeline:
</p>

<pre><code class="language-shell">cat jquery-3.1.0.slim.min.js | openssl dgst -sha384 -binary | openssl enc -base64 -A</code></pre>

<p>
    But typing this over and over gets old quick. There's also
    <a href="https://srihash.org">https://srihash.org</a>,
    which will allow you to provide the URL of the resource and
    generate the hash for you.
</p>

<p>

    There's also my favorite method (shameless plug incoming):
    <a href="https://github.com/f0rk/srihash">https://github.com/f0rk/srihash</a>.
    srihash provides a simple command line tool to generate
    subresource integrity hashes from local files or remote
    urls:
</p>

<pre><code class="language-shell">~$ srihash https://code.jquery.com/jquery-3.1.0.slim.min.js
sha384-uZ2OkdfFeYRaX81T8ZKlaMt5UJ7DkMwO8z95CYTpAtu9t6W7FaHvsa3xvalfNrnn</code></pre>

<h3>What Supports SRI?</h3>

<p>
    Two elements support SRI: <code>script</code> and
    <code>link</code>. Simply include the hash of the resource
    in the integrity attribute. If the script served varies
    (for example, different users see different scripts) you
    specify multiple whitespace separated hashes. If any hash
    matches, the resource will load.
</p>

<p>
    SRI is an experimental feature. At the moment, it is only
    supported by Chrome, Firefox, and Opera:
    <a href="http://caniuse.com/#feat=subresource-integrity">http://caniuse.com/#feat=subresource-integrity</a>.
</p>

<h3>Conclusion</h3>

<p>
    SRI is one of many techniques to prevent the loading and
    execution of unexpected code. Other techniques, like
    content security policies, CORS and CORS attributes, and
    the meta referrer tag, should also be utilized as part of a
    scheme to make sure your data is protected.
</p>


        <div class="large-separator" role="separator"></div>
    </div>

    <!-- Article footer -->
    <footer class="post-footer clearfix">

            <div class="post-social">
                <span class='st_twitter_hcount' displayText='Tweet' st_via="truveris"></span>
                <span class='st_linkedin_hcount' displayText='LinkedIn'></span>
            </div>

            <div class="byline vcard">
                <meta content="https://truveris.github.io//articles/subresource-integrity/" itemprop="url">

                <a href="https://github.com/f0rk">
                    <img src="/lib/img/helmet.svg" alt="Ryan Kelly profil pic" class="profil_pic">
                </a>

                <span class="fn author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                    <a href="https://github.com/f0rk" class="url"><span itemprop="name">Ryan Kelly</span></a>
                </span>
                <br />
                <time datetime="2016-07-16T06:58:00" itemprop="datePublished" class="date published updated">July 16, 2016</time>
                <br />

                <span class="org">Truveris</span>
                <div class="adr">
                    <span class="locality">New York</span>
                    <span class="country-name">USA</span>
                </div>
            </div>

    </footer>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'truveris'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</article>

<p class="mobile-cta">
	<a href="/jobs/" class="cta" role="link">
		We are hiring <span class="icon-right-open-mini"></span>
	</a>
</p>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="/lib/js/min/core-min.js"></script>
<script src="/lib/js/plugins/lightbox.js"></script>
<script>
    $(document).ready(function() {
        $('.image-link').magnificPopup({
            type: 'image',
            mainClass: 'mfp-with-zoom',
            closeOnContentClick: true,

            zoom: {
                enabled: true,
                duration: 300,
                easing: 'ease-in-out',
                opener: function(openerElement) {
                    return openerElement.is('img') ? openerElement : openerElement.find('img');
                }
            }
        });
    });
</script>


                <footer class="footer clearfix" role="contentinfo">

            <div class="wrap">

                <p class="social">
                    <a href="https://github.com/truveris/" data-tooltip="Github"><span class="icon-github"></span></a>
                    <a href="https://twitter.com/truveris" data-tooltip="Twitter"><span class="icon-twitter"></span></a>
                    <a href="https://www.linkedin.com/company/truveris" data-tooltip="Linkedin"><span class="icon-linkedin"></span></a>
                </p>

                <p class="copyright">
                    <span class="company" itemprop="copyrightHolder sourceOrganization">
						<a href="http://truveris.com" target="_blank"><img src="/lib/img/truveris-logo.png"/></a>
					</span> ⓒ
                    <span itemprop="copyrightYear">2015-2017</span>.
                    <span class="rightsreserved">All Rights Reserved.</span>
                </p>

            </div>
        </footer>

        <script src="/lib/js/min/core-min.js"></script>

        <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-31708065-8', 'auto');
      ga('send', 'pageview');
    </script>

    </body>

</html>




